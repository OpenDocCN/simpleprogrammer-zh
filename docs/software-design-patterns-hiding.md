# 软件设计模式对你隐藏了什么？

> 原文:[https://simple programmer . com/software-design-patterns-hiding/](https://simpleprogrammer.com/software-design-patterns-hiding/)

我们有时会被诸如 MVC(模型视图控制器)、抽象工厂和 GOF(四人帮)模式这样的行话术语弄得不知所措。让我承认:很长一段时间，我只对一种模式感到满意，即 Singleton。我完全理解 Singleton，并在许多软件项目中使用它。因此，我知道 Singleton 提供的所有权衡。

如果你对 Singleton 很熟悉，你可能会笑，因为这是一个很容易应用的模式。这是我知道的唯一模式，我在任何地方都使用它。不幸的是，在某些情况下 Singleton 是不合适的，所以我最终误用了它。问题是我没有完全理解软件设计模式。如果我知道如何使用模式，我就不会误用或过度使用 Singleton。

最终，我遇到了一位经验丰富的 web 开发人员，他理解我在做什么，并让我知道有更好的方法。这促使我开始开发自己的软件设计模式和原则。我开发的策略帮助我理解了文献中可用的软件设计模式，并让我平静地面对软件设计人员经常遇到的令人困惑的过多模式。

发现自己的[软件设计模式](http://www.amazon.com/exec/obidos/ASIN/1118714709/makithecompsi-20)是一项重要的技能，当我们强迫自己学习别人开发的模式时，我们忘记了去学习。在这篇文章中，我将分享如何开发你个人的模式库，同时继续学习专家和高级程序员已经开发的模式。

## 什么是软件设计模式？

![](img/9bfadfb15046386c87953c29fb627743.png)

模式是解决重复出现的问题的指南或逐步说明。这个问题可以出现在任何领域，并且不限于编程领域。

尽管您可能已经理解了设计模式的基础，但在我们的讨论中，我们将考虑软件设计模式的以下三个特征:

1)重复出现的问题
2)解决/避免问题的步骤
3)常用名称或词汇

本文的重点将是前两个特性。

## 模式和原则的日常例子

每当我们下班回家时，我们都会使用模式。例如，我避免在下午 5 点到 7 点之间回家。这是因为现在是交通高峰期，根据以往的经验，我会在交通中浪费大约半个小时。

在这个例子中，重复出现的问题是下午 5 点到 7 点之间的交通状况。这是一个反复出现的问题，每个工作日都会发生。我的*解决方案*是避免在交通高峰期去。我总是尽量在下午 4 点下班。如果不可能，我会在晚上 7 点后离开办公室。因此，对于我在工作中经常遇到的问题，我有一个指导方针。

从这个简单的例子中你可以看出，重复出现的问题和解决方案是我们生活的一部分。

我参与了许多系统的集成和测试。对集成和测试期间重复出现的问题的一个解决方案是遵循一个顺序。如果您在集成过程中没有遵循特定的顺序，那么您正在集成的系统很可能会损害您正在连接的其他系统。

为了解决这个问题，我们使用一个清单。核对表概述了各个步骤以及需要执行的顺序。特定系统集成的清单允许我和其他团队成员在集成过程中遵循一个顺序。

从这个例子可以清楚地看出，您不一定需要参考手册来寻找最佳实践。您组织中的人员可能已经为他们反复出现的问题开发了一个解决方案，就像我们的清单一样，它是由高级工程师开发的。这些是我们的前辈或我们自己开发的本地模式，你在任何教科书上都找不到。

因此，在你周围的任何领域，如果有重复出现的问题，要么你必须为它开发一个解决方案(如果这个问题与你有关)，要么其他人可能已经为这个问题开发了一个解决方案。

## 我如何开发我的编程模式

![](img/fa2651f2aaae829e8d92e2eef0a3ad41.png)

在我目前的职位上，我获取数据，处理数据，并制作图表或文件来解释数据是如何工作的。

数据采集可能具有挑战性。数据可以以多种格式进入，每种情况都面临不同的挑战，包括延迟、数据速率和多数据流等。

为了解决这些*反复出现的挑战*和问题，我开发了一个*解决方案*，我称之为[数据采集库](http://www.codeproject.com/Articles/685749/Data-Acquisition-Library)。我将这个库保存在一个单独的文件夹中，每当我进行开发时，我都会打开这个库并使用其中包含的信息。

如果你看一下这个库，你会发现它只是一堆代码类。我在某些类中编写代码(如果我在处理新系统或新界面，通常是设备类)，并且我能够快速开发软件，可以根据不同的需求进行扩展或更改。

我对反复出现的数据采集问题的解决方案是一种模式的例子。

另一个[模式创建](http://www.amazon.com/exec/obidos/ASIN/0471958697/makithecompsi-20)的例子来自一个 web 开发人员，他是我的一个朋友。他将代码片段保存在一个文件中。该文件包含可在 web 应用程序中使用的每个控件的简短 C#代码片段，以及该控件最佳工作情况的简短描述。如果我让他帮我使用一个控件，他会打开那个文件，看看如何使用一个给定的控件，然后告诉我如何继续。

你可能想知道为什么他不直接用 MSDN。MSDN 是有用的，但它主要提供一般性的帮助，只给你语法信息。我朋友的片段文件是根据个人经验开发的，可以帮助我们解决经常面临的具体问题。我面临着 web 应用程序编程经常出现的问题，但是我的朋友和他的文件为我提供了一个解决方案；因此，我有了另一种帮助我设计软件的模式。

很有可能你已经为自己的工作场所制定了一些原则、指导方针、经验法则和清单。也有可能是某个高级开发人员为您创建了这样的工具。我给你的建议是，在转向文档化的软件设计模式(例如 GOF 模式)之前，你首先要关注你自己开发的软件设计模式。如果你现在还没有，那就开始开发吧，即使你是学生或者初级开发人员。

## 如何开发你自己的模式——即使你是初学者

### 记日志

多年来，我一直坚持写日志，记录我的观察、想法或任何我认为重要的东西。我在一张纸上写下日期，然后写下当天的条目(有时我会在一张纸上写下几天)。这通常需要每天 5 到 10 分钟，几乎不会超过这个时间。

有时我会错过一天或几天。这对我来说没什么大不了的，因为我可以通过写下我能记起的任何东西来弥补错过的一天。我建议你也这样做。几个月后，你会在你的日志中看到大约 40 个条目，这足以让你开始发现模式。

这是认识到你在日常工作职责中面临的问题的第一步。当你做回顾时，你日志中的条目将帮助你识别问题的模式。除此之外，写日志会帮助你确定你有效率的日子以及你擅长的任务和技能的类型。

一旦你确定了自己的强项，你就可以更好地利用它们，从而变得更加高效。写日志是唯一最有效的技巧，我希望我能早点知道，它帮助我变得更有效率。

### 在你的日记里写些什么

![](img/6c03884b63db3aa38f2d16276b774057.png)

人们通常不知道在日记中写些什么，或者他们想从一开始就让一切尽善尽美。不一定要完美。你只需要保持足够的一致性，定期登录。

如果你看到一个具有挑战性的问题，写下来。如果你的代码中有你最近发现的错误或 bug，那么把它写下来。如果你看到一个团队是如何调试和测试某个东西的，并且你觉得它很有趣，那就写下来。

如果你仍然不知道该写什么，那么看看这篇文章中的第五条建议。凯莉很擅长维护你的日志记录。

### 回顾你的日记

下一步是回顾你的日记。我每季度对我的日志进行一次全面的回顾。我寻找重复的问题，我采取的解决问题的步骤，然后我将它们记录在一个文件中。

在日志和季度回顾的帮助下，你可以很容易地想出一些属于你的模式，如果你愿意，你可以和你的同事分享。

这种方法对于很少或没有软件开发经验的初级开发人员非常有效。高级开发人员可以打开他们的旧项目，寻找他们之前已经解决的重复出现的问题，然后记录下来。

通常，高级开发人员脑子里都有他们的模式，他们可以凭记忆写下来，并与同事分享。

对于学生来说，你可以维护一个日志记录，并反映你当前参与或过去已经完成的课堂作业或编程项目。如果你想指数级学习，又没有参与任何编程项目，那就要尽早参与。这里有一篇 Latish 写的关于让自己参与兼职编程项目的很棒的文章。

### 从私有模式到公共模式

在你开发了你自己的软件模式和实践库之后(不要担心它很小)，你应该检查一下其他人的设计原则和模式。

通过这种方式，你将会更加适应在你的程序中使用这些模式。你不仅会记住这些模式，还会毫不费力地将它们应用到你自己的程序中。这是因为，通过发展你自己的模式，你已经发展了识别重复出现的问题和应用解决方案的能力。

我来和大家分享一个个人的例子。我有一个经验法则，如果一个类的变化导致了某些变量和/或方法的变化，我就创建另一个类。

例如，如果一个类有三个变量，而代码中的任何变化只导致两个特定变量独立于第三个变量而变化，那么就有一个*问题*。这个问题的*解决方案*是:我必须创建另一个包含这两个变量的类。这种实践，或者说*模式*，帮助我编写模块化代码。

在使用这种模式一段时间后，我读了一本名为*Refactoring:Improving the Design of Existing Code*的书，作者是 Martin Fowler，是改进软件设计的标杆。在那本书里有一个非常相似的规则，作为改进代码设计的指南。

他描述了一个与我的问题非常相似的问题，并将其称为“发散性变化”(他将问题称为代码中的“难闻气味”)，他概述了一个涉及创建“提取类”的解决方案，这与我的解决方案相似。看到我的模式在如此重要的作品中得到推荐，我感到非常欣慰。

在阅读这本书的时候，我能够很快理解如何将福勒识别的“坏气味”与我已经有解决方案的“坏气味”联系起来。

例如，我花了几分钟去理解“霰弹枪手术”和“大班”的不良气味(阅读这本书来了解这些是什么)，并花了一周时间在我工作的项目中实现它们。

关键是，因为我习惯于在自己的软件设计实践中识别模式，所以我能够更容易地理解其他设计师使用的模式。

如果你从认识自己的软件模式开始学习，那么学习软件设计模式将会变得非常容易。

## 你会发现什么样的模式？

![](img/c23cc7c5f46466c94bcea902fe11122d.png)

总之，我要求你不要太努力地尝试文档化的软件设计模式(尤其是当你开始的时候)。我们在日常生活中无时无刻不在使用模式，你应该首先关注这些。识别我们自己模式的关键是反思我们的日常经历，为此，写日志是一个非常好的工具。

识别你自己的模式不仅会增加你的知识，而且通过这种实践，你还会发展智能地*学习和应用*其他专家开发的模式的能力。

我很乐意阅读你的设计模式。不管它在你看来有多小或多没用，如果它解决了你的问题，那么也许它也会解决其他人的问题。

如果你已经维护了一个个人模式库，那么请在下面的评论中分享你的两个最佳模式。与你的一些同伴展开对话，看看你的模式是否与他们的相似，然后展开讨论。

最后，如果你想[了解更多关于软件设计模式](http://www.objectorienteddesign.org/)，那么请访问[这里](http://www.objectorienteddesign.org/)。