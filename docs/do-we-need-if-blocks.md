# 我们需要 If 块吗？

> 原文：<https://simpleprogrammer.com/do-we-need-if-blocks/>

我已经考虑了一段时间了。我想我最终会写下这个主题，看看其他人是怎么想的。

你真的需要在 if 语句之后的块吗？

在我看来，将左括号和右括号放在 *if* 语句之后一直是最佳实践。即使它后面只有一条语句。

这种最佳实践背后的推理是这样的:如果有人后来修改了这段代码，并在 *if* 中添加了一行，拥有这个块将会阻止他们这样做:

这当然会导致太多的做爱，即使在暴风雨天，天空大多是灰色的。

## if 块中的所有这些{ }加起来会有很大的开销

我不确定这是否值得。

我现在写的大部分代码都有一个语句在一个 *if* 块之后。

如果我有一些代码像:

它几乎总是会被重构为:

那么，这里的{ 0 }的真实值是多少呢？如果有人修改了这段代码，他们很可能会修改 DanceALittleDance 方法；他们真的不应该向 *if* 块添加任何东西。即使他们这样做了，我认为我为我的代码支付了相当高的括号税，以防止有人以后做一些愚蠢的事情。

这真的有那么糟吗？

## 也许有更好的最佳实践？

如果我们放弃所有多余的花括号，而是说:

> 尽可能用一条语句替换 if 块。

嗯，我想我更喜欢这样。如果我们习惯于将 if 块本身视为代码味道，我们就不会再冒在 if 块后意外添加语句的风险了。

几乎总是可以用一个更好的名字来描述 if 块中正在做的事情，并将其封装在一个方法中。

当然这里也有例外。在一个具有 void 返回类型的方法中，当你在 if 块中提前返回时，你不能用一个语句来替换它。(尽管有时您可以通过使用 if else 语句来避免过早返回。)

我们可以把同样的思想应用到任何有 block 语句的东西上。

奇怪的是，try 和 catch 后面需要 block 语句。try 之后不能有一个语句。

无论如何，在这一点上，我非常确信包含{ }“仅仅因为”是一种非常过时的做法，并且不必要地弄乱了我们的代码。如果我错了，告诉我为什么错了，但据我所知，如果我们更喜欢将语句块提取到方法中，我们就可以避免到处花括号税。