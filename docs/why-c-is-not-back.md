# 为什么 C++没有“回来”

> 原文：<https://simpleprogrammer.com/why-c-is-not-back/>

### 你是因为想学 C++才来的吗？

[学会用 C++编程](http://click.linksynergy.com/link?id=8nGXBg4MgOA&offerid=323085.10321&type=2&murl=https%3A%2F%2Fwww.udemy.com%2Flearn-c%2F)

![](img/aeabc4c0c97db1380fc11eb765d3e183.png)



![](img/7a86ed276125ccdb3e2033058f4da383.png)



![](img/aeabc4c0c97db1380fc11eb765d3e183.png)

我爱 C++。

C++教会了我如何真正写代码。

以前，我会研究这门语言的复杂性、[标准模板库](http://www.cplusplus.com/reference/stl/)，以及内存管理和指针算法的所有细微差别。

那些是非常美好的时光。

我记得我一遍又一遍地阅读 Scott Meyers 的有效 C++系列丛书。每次我都会学到一些新东西或者掌握更多如何使用 C++的知识。

我说这些只是想让你知道**我不讨厌 C++** 。

我爱 C++。

我知道今天有很多优秀的开发人员仍然在使用 C++并教其他人如何使用它，这一点也没有错。那么问题是什么呢？

## 新消息是错误的

最近 C++11 刚刚发布，看起来对 C++开发的兴趣有了很大的复苏。



![announcer](img/27a25dff7871127b62729f7c54fc3d49.png "announcer")



别误会我的意思。C++11 太棒了！我几乎 100%同意所有已经做出的改变。

C++无疑变得更加容易使用，甚至变得更加强大。

有一件事没有变得更简单，这是最重要的。

似乎许多经验丰富的开发人员已经忘记了为什么我们停止使用 C++，转而使用 Java、C#和其他现代语言。

许多年轻或较新的开发人员并不真正了解历史，并对当前的 C++信息和复兴感到困惑。

每个人都不停地问我是否需要学习 C++，但就像我几年前的回答一样，今天也一样——不需要！好吧，所以大写的“不”有点刺耳。更好的回答是“为什么？”

## 为什么要学 C++？

我能想到的学习 C++的合理理由只有三个。

*   你绝对需要尽可能地发挥软件的每一点性能，你希望用一种支持面向对象抽象的语言来做到这一点。
*   您正在编写将直接与原始硬件交互的代码。(例如:你正在编写一个低级驱动程序。)
*   内存控制和计时是绝对重要的，因此您必须在系统中拥有完全确定的行为，并且能够手动管理内存。(想象一下实时嵌入式操作系统控制一台运动的机器。)

现在，我可能错过了一个有效的案例，但任何其他案例都有可能大致属于这三个类别之一。

等等！等等！便携性呢？[](https://simpleprogrammer.com/wp-content/uploads/2012/12/banghead.jpg)

![banghead](img/8375ffcae5947b568e213aea887c7e01.png "banghead")

[](https://simpleprogrammer.com/wp-content/uploads/2012/12/banghead.jpg)不！

**请不要以为学了 C++就可以构建软件在任何地方工作。**

现在有很多其他的方法可以实现这一点，而 C++并不像许多人认为或吹捧的那样具有可移植性。抽象层次越低，每个操作系统和平台的差异就越大。

另外，请不要告诉我 C++给了你更多的能力和控制去做你需要的事情。大多数软件开发都是关于管理复杂性，而不是能够在较低的层次上玩弄比特。在现代大规模软件开发的几乎所有情况下，你想要的是更高的抽象，而不是更低的抽象。

## 但是，我还是想学 C++

好吧，我知道你认为 Windows 8 很酷，所有酷的孩子都在学习 C++来编写他们的 Windows 8 应用程序，但你应该在喝之前知道 Kool-aid 里有什么。

写 C++代码不是一件轻松的事。即使 C++11 有了这么多变化，C++仍然是一门非常难学的语言，甚至更难掌握。

你可能听过这句关于 C++的名言:

> C 很容易搬起石头砸自己的脚。C++让它变得更难，但是当你这么做的时候，你会炸掉你的整条腿！—比雅尼·斯特劳斯特鲁普



![gun](img/abff0c7317ff244d6d274f354280e616.png "gun")

[](https://simpleprogrammer.com/wp-content/uploads/2012/12/gun.jpg)如果你不知道[比约恩](http://en.wikipedia.org/wiki/Bjarne_Stroustrup)是谁，那么，他发明了 C++。

因此，如果他这样说语言，我相信你可以得出自己的结论。

我一直听说 C++11 现在使事情变得简单多了，而且 C++11 已经修复了 C++98 的许多问题。我不怀疑这一点。它没有改变的是语言的规模和范围——它实际上增加了语言的规模和范围。

当然，你可以使用 C++的子集。当然，你可以在新的 C++中使用[智能指针](http://en.wikipedia.org/wiki/Smart_pointer)来避免你不得不手动管理内存。

您可以利用 [lambda 表达式](http://msdn.microsoft.com/en-us/library/dd293608.aspx)来内嵌声明函数，而不是传递函数指针。自动类型演绎是一股急需的新鲜空气。**问题是你仍然必须知道做任何事情的老方法，你必须明白当你调试一个 C++程序**时到底发生了什么，这个程序很容易被[践踏内存](http://lemniscape.blogspot.com/2009/02/memory-stomp-strategies.html)(如果你出生在一个托管代码的世界，你可能从来没有听说过这个东西。)

你会遇到 20 年前的 C++代码，它看起来完全是一种不同的语言。这里有一个实际面试问题的列表，我曾经问过面试我要招聘的工作的 C++开发人员。

1.  在 C++中有多少种初始化原始数据类型的方法，它们是什么？
2.  为什么要将析构函数声明为虚拟的？
3.  C++支持重载是什么意思？
4.  C++中重载的例子有哪些？
5.  C++中的名称 mangling 是什么，为什么使用它？
6.  什么是抽象基类？
7.  什么是 RTTI？
8.  如何访问被另一个同名变量“隐藏”的变量？
9.  什么是命名空间以及如何使用它。
10.  C++中的类和结构有什么区别，这与 C 有何不同？
11.  什么是模板？它们是如何使用的？
12.  什么是复制构造函数，何时使用，尤其是与等号运算符相比。
13.  “浅”拷贝和“深”拷贝有什么区别？
14.  什么是 const 运算符，如何使用？
15.  C++中按引用传递、按值传递、按指针传递有什么区别？
16.  在 C++中什么时候通过引用返回值不是一个好主意？
17.  在堆栈上创建的变量和在堆上创建的变量有什么区别？
18.  如何释放为数组动态分配的内存？仅仅使用 delete 有什么含义？
19.  什么是多重继承？应该在什么时候使用？
20.  什么是纯虚函数？
21.  关键字 mutable 是做什么的？
22.  关键字 volatile 是做什么的？
23.  STL 是什么？
24.  什么是向量？
25.  <algorithms>头包含什么？</algorithms>
26.  #include <iostream.h>和#include <iostream>有什么区别？</iostream></iostream.h>
27.  “++i”和“i++”有什么区别？
28.  什么是短路评估？怎么用？为什么会有危险？
29.  什么是'，'运算符？
30.  唯一的三元运算符是什么？如何使用？
31.  const 成员函数有什么用，怎么用？
32.  try/catch 在 C++中是如何使用的？
33.  为什么不应该在析构函数中抛出异常？
34.  什么是显式关键字？
35.  在 C++中执行强制转换的正确方法是什么？
36.  内联是做什么的？

其中有些问题对于 C#或者 Java 来说答案是一样的，但是你可以从这个列表中看出 C++是非常非常深奥的。关于语言本身，需要了解的东西非常多。C#和 Java 开发在某种程度上是关于学习语言，但更多的是关于学习库。C++开发更多的是学习语言的每个角落。

## C++是未来的错误方向

最大的问题是编程语言真的需要变得更简单，提高而不是降低抽象层次。

总会有对低级代码的需求，但是我们今天写的大部分代码都是高级代码。

很多年前，当我终于不再认为用 C++开发应用程序比用 C#快时，我第一次跳出了 C++这艘船。我坚持了很长一段时间，试图相信我在 C++上的所有投资都没有损失，但结果证明 C#在很大程度上简化了事情，以至于 C++给我的额外能力不值得我承担额外的责任。

就在我写这篇博文的间隙，我偶然发现了微软研究院一个名为 [touchdevelop](https://www.touchdevelop.com/) 的新*复兴*项目。这是我们需要走的方向。

我们需要编程语言更加简单易用，而不是更加复杂。现在不要误解我的意思，你在 touchdevelop 上受到了非常严重的限制，但是我相信类似的东西是未来的趋势。看起来微软正在通过 Window 8 中的 C++支持来推动 C++回归主流，并试图扼杀 XNA，但我认为开发社区有一种扭曲的看法，这种看法似乎在 Windows OS 开发人员的头脑中根深蒂固，即程序员希望使用 C++。

当我现在可以在几乎每一个平台上编写 C#时，我从没想过自己会回到一门更难的语言。C#不是完美的语言，但它非常优雅和简单。

## 关于 C++的一些临别赠言

综上所述，我仍然相信学习 C++是有价值的。

不，我不想在这里自相矛盾。

请允许我解释。

如果你能用 C++编程，你就能用任何编程语言编程。如果你理解堆栈和堆内存是如何工作的，指针和引用以及所有使 C++变得如此复杂的底层细节，当你在更高的抽象层次上工作和理解计算机一般是如何工作的时候，它会对你有所帮助。

我在这篇文章中的观点不是抨击 C++或者抨击使用 C++的人或者教授 C++，而是直言不讳地表达一个过于热切的 C++社区所宣扬的信息。

每个人都不会成为 C++开发人员，他们也不需要成为 c++开发人员。虽然 C++可能有能力让你的程序更高效(在某些情况下)，但它不太可能让你更高效地创建你的程序(除非在一些极端的情况下)。)

所以，我很高兴 C++得到了一个非常需要的彻底修改，但我不认为它会很快卷土重来，这是一件好事。

如果你打算学习一门新语言，一定要看看我的课程:[快速学习的 10 个步骤](https://simpleprogrammer.com/store/products/learn-anything-quickly/)。