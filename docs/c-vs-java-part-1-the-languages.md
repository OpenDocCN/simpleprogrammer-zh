# C#与 Java 第 1 部分:语言

> 原文:[https://simple programmer . com/c-vs-Java-part-1-the-languages/](https://simpleprogrammer.com/c-vs-java-part-1-the-languages/)

我一直在考虑这个帖子，因为我认为这是一个非常重要的话题，但我也感叹写这个话题的争议性，并担心我不会像应得的那样准确。尽管如此，我将尝试在一个由几部分组成的系列文章《C#与 Java》中讨论这个主题的部分内容。

在我开始谈论语言差异之前，先简单介绍一下:

*   当我比较 C#和 Java 时，我也在比较平台。。NET 框架和 CLR 是 C#的一部分，就像 JVM 和 Java EE 堆栈是 Java 的一部分一样。
*   我将从同时使用这两种技术的开发人员和架构师的角度来讲述这个主题。视角是从我个人的角度，从我的经历。我不认为从学术或宗教的角度来重复比较这些语言和平台是合适的，相反，我试图从“在战壕中，个人经验”的角度来比较这些语言和平台。
*   这并不意味着是全面的。我并不了解。NET 和 Java 我都不太懂。
*   虽然我有我个人的偏好，但我对这个问题既不虔诚，也不打算强迫选择“立场”。我想做的是尽可能客观，鼓励一种开放的观点，从双方都可以学到东西。

这两种语言的基本语法实际上没有太大的区别。在很大程度上，用两种语言编写算法和设计类看起来非常相似。

**类**

当我开始一个 Java 项目的工作时，我注意到的第一个主要区别是，与主要使用 C#相比，匿名子类化一个对象创建类并覆盖它的方法的能力。虽然我通常反对具体继承，但 Java 语言的这一特性对于单元测试遗留代码非常方便，不需要大规模的重构。这里有一个例子:

在这个代码片段中，我匿名地从 LegacyClass 继承，并为一个创建了具体依赖关系的方法提供了一个覆盖。C#并没有一种具体的方法来做到这一点，这通常不是问题，但当对遗留代码进行单元测试时，它会非常有用。

另一方面，C#允许分部类，这是我在 Java 中从事代码生成工作时真正想要的。用 C#你可以在多个文件中定义一个类。这种方法的真正用途是当您生成代码时，您希望能够生成类的一部分，但仍然手动控制和版本化类的另一部分。

我将在这里提到 C#的属性，即使它们也可以在“语法糖”部分。C#属性本质上做 Java 中手工创建的 getters 和 setters 所做的事情。我不是 100%确信这是一件好事，但我会说它是有用的。有一个强有力的论点是，你不应该写 getters 和 setters，因为它们几乎总是违反数据隐藏。我还不属于那个阵营，但我更倾向于它。无论如何，不要跑题，当你需要的时候，属性特性是非常好的。当在 Java 代码中工作时，我经常希望能够设置一些我认为应该是属性的东西，然后我必须记住，“哦，是的，Java。”

另一个重要的区别是类中的 Java 方法是自动虚拟的。在 C#中，只有带有虚拟关键字的方法才是虚拟的。虽然这在设计上没有太大的区别，但我不喜欢虚拟的东西，除非我想让它被覆盖，而不是默认为虚拟的。

总而言之，除了这些不同，Java 和 C#类非常相似。内部类是完全不同的，但实际上你不应该使用内部类。是的，我知道在特定的情况下它们是有用的，但是在日常编程中的大部分时间里，它们是不被使用的，也不应该被使用。

**枚举**

我不得不说，我喜欢 Java 枚举。向枚举添加一些功能的能力确实非常有用。Java 的枚举就像类一样，(除了它们不能扩展另一个类。)C#枚举更符合 C/C++实现的方式，它们基本上是整数。

我在代码中经常使用枚举。我发现，限制可以传递到一个方法中的选项集，使得对该方法的理解更加清晰，并且降低了系统的复杂性。伴随枚举的逻辑的正确位置是在枚举中。Java 在这一点上做得很好。

**我的大牛肉:函数指针**

长期以来，我一直抱怨不能用一个将条件映射到函数指针的映射来删除 Java 中的一堆 if/else 条件。这里我将使用术语“函数指针”来代替委托或闭包。(是的，我知道 3 个都不一样。)当我引用函数指针时，我真正想做的是找到一种方法来引用我想在 Java 中调用的方法，而不必使用 observer 模式。

C#通过委托和事件框架来处理这个问题。C#在这一点上已经扩展到你甚至没有意识到你在使用函数指针。首先，有匿名代理，然后有λ表达式。这才是 C#真正闪光的地方。Lambda 表达式允许 C#程序员非常简洁地将代码表达为数据，并以这种方式对其进行操作。这里有一个例子:

编写第一个 Lambda 表达式并让 intellisense 在代码中列出您的选项有一种魔力，看起来编译器不可能知道类型是什么。

对你们函数式编程爱好者来说，这没什么大不了的，但对我们 OOs 来说，这是惊人的。我坚信 Lambda 表达式有潜力完全改变我们思考编程算法的方式，并实际上将它们带到更高的抽象层次，就像集合和泛型的结合一样。

我知道 Java 应该在 JDK7 中获得某种形式的闭包，但是在它实现之前，这将是一个主要的弱点。在用这两种语言解决了许多编程问题之后，我可以告诉你，Lambda 表达式可以极大地简化问题的表达和解决。

**未完待续……**

我不想写比我一次想读的还要长的东西。出于这个原因，[我将涉及更多关于语言的内容，包括](https://simpleprogrammer.com/2010/02/02/c-vs-java-part-1-the-languages-continued/) *[泛型、异常和语法糖](https://simpleprogrammer.com/2010/02/02/c-vs-java-part-1-the-languages-continued/)* [明天 C#与 Java 的区别](https://simpleprogrammer.com/2010/02/02/c-vs-java-part-1-the-languages-continued/)。