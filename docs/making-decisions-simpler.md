# 简化日常决策的软件开发人员指南

> 原文：<https://simpleprogrammer.com/making-decisions-simpler/>

做决定就像锻炼你的大脑。你一天只能做这么多事情。如果用力过度，甚至会[精神自残(造成精神疲劳)](https://en.wikipedia.org/wiki/Fatigue_(medical)#Mental_fatigue)。在心理疲劳的情况下行使自己的决策权，只会带来更大的疲劳。长时间的精神疲劳会导致更大的压力。此外，这将导致精疲力竭和抑郁。睡眠和休息可以让你恢复决策力。

程序员在工作中经常面临决策。这可能会让人精疲力尽。举个例子，前几天下午我和一个候选人进行了结对编程面试。我对他们的表演有不同的看法。很难决定他们是否会通过面试。通常，我能够毫无问题地做出这个决定。那天，我们的团队开了一个设计会议，会上做出了许多决定。我能感觉到我的精神能量正在被烘烤。所以我等到第二天才做出面试的决定。做出决定要容易得多。

决策耐力叫意志力。[意志(或心理学中的意志)](https://en.wikipedia.org/wiki/Volition_(psychology))是一个认知过程，通过这个过程，你决定并致力于一个特定的行动过程。耗尽意志力的概念被称为[自我耗尽](https://en.wikipedia.org/wiki/Ego_depletion)。

作为软件开发人员，你所做的每一个决定都会耗尽你的意志力。例如，决定是否应该吃甜蛋糕或健康水果会耗尽你的意志力，之后你在工作中会更难做出决定。此外，在决定变量的名称上花费太多时间会阻碍你进一步的决定。虽然本文适用于您所做的任何决定，但我们将更多地关注您作为一名软件开发人员在工作中需要做出的决定。

你将学会如何降低决策的成本，发现你意志力薄弱的时候，以及如何恢复你的意志力。

## 决策如何增加压力

![](img/491a6f679f7cafdc4b100a6120ef9d20.png)

决策可能简单，也可能复杂。更复杂的决策更难做出。越难[做出决定](http://www.amazon.com/exec/obidos/ASIN/B00WDDOSD2/makithecompsi-20)，就越耗费你的意志力。

当你没有足够的意志力时，仍然有可能做出简单的决定，但是做起来会困难得多。此外，如果你可以在更好的方法和更容易的方法之间做出选择，你会选择更容易的方法，因为它的意志力成本要小得多。

每当你在这种状态下做决定时，你就增加了你的压力。那是因为精神疲劳。随着时间的推移，压力的积累会导致倦怠和抑郁。当压力过大时，你的工作表现会更差。随着更多压力的积累，你将不再关心你正在做的工作。这可能导致非常差的质量和有害的决策。此外，它还会对你的职业生涯和个人生活产生负面影响。

为了防止这种压力的积累，你需要能够察觉到你没有足够的意志力。做起来相对简单。当你觉得一个简单的决定比平时更难做时，你的意志力很低。例如，给一个变量起一个名字比通常更难。或者，去和你产品人员讨论你不确定如何处理的边缘情况会更困难。另一个迹象是:你会更经常地依赖你的坏习惯。这是自我损耗的副作用——失去自我控制。

## 什么增加了决策的复杂性？

每个决定都有内在的复杂性。有些决定自然简单。有些很复杂。

在现实环境中，仅仅计算决策的内在复杂性是不够的。一些事情大大增加了决策的复杂性。

你掌握的信息越少，就越难做出决定。当你知道你缺乏某些信息时，你会犹豫是否做出决定。

随着你对手头的问题有了更多的了解，做决定会变得越来越容易。相反，无限期地等待所有信息是不实际的。在软件开发领域，许多决策是在没有足够信息可用的情况下做出的。

解决这个问题的显而易见的办法是等到有了足够的信息。另一方面，长时间推迟决定也会消耗你很大一部分意志力。尤其是当你昨天不得不做出那个决定的时候。

决策的另一个重要因素是错误的成本。更准确地说，你有多害怕失败？如果失败的成本非常高，决策的复杂性将会飙升。如果一个错误的代价很小，这个决定可能变得微不足道。

想象一下，一个决定取决于另一个决定的结果，而另一个决定又取决于第三个决定的结果，以此类推。让我们称之为决策链。

现在你要在这样的链条中做出新的决定。你知道之前所有的决定都是正确的。做出新的决定和没有锁链一样困难，也一样容易。

不幸的是，这条快乐的道路不是你在现实世界中观察到的。通常，链中的一些先前的决策仍然处于未知状态。你不知道他们是对还是错。此外，现在你必须在今天做出另一个决定。

你认为做这个决定会有多难？

困难得多。

你不可能掌握所有的信息来做决定。在这样的决策链中，你不得不在一个持续的不确定状态中运作。这种不确定性增加了决策的成本。最重要的是，持续的不确定性会加剧压力。

你做新决定所需要的信息是从先前决定的影响中产生的。在[系统理论](https://en.wikipedia.org/wiki/Systems_theory)中，这被称为反馈回路。效果变得明显所需要的时间叫做延迟。

您希望这些反馈环路延迟尽可能小。这将大大降低你一般决策的复杂性。

你必须认识到这些不同的反馈回路，并缩短它们的延迟。让我给你举几个例子，说明我过去是如何减少软件开发团队中的反馈循环的。

## 您开发的功能的业务影响

![](img/429e76f9f6f8eda8e07ac90bedde8d1d.png)

在开发了某个功能后，你知道你的产品多创造了多少收入吗？或者，用户对你的 iPhone 应用程序的参与度增加了多少？

业务影响是对你的业务的任何重要特征的有效改变。在传统商业中，它可能是你的销售收入。在慈善事业中，这可能是拯救生命的计数。如果你花了几个月的时间开发一个特性，却没有产生那种影响，那么你就浪费了时间。

通常，软件开发人员无法获得这类信息。这就是为什么对于开发人员来说，很难在业务影响方面做出任何权衡。回到反馈回路的概念——这里不存在反馈回路。你需要创造它们。

软件开发人员是天生的问题解决者。每天，他们都要处理与业务和经济复杂性水平相当的代码复杂性。毫无疑问，当开发人员知道一个特性或任务背后的实际目标时，他们可以找到更好、更容易、更快的方法来实现它。

企业应该信任软件开发人员，让他们做出业务层面的决策，给他们解决问题，而不是完整的解决方案。要做到这一点，软件开发人员需要很好地了解业务目标的当前状态——最好是作为可测量的度量标准实时了解。完成后，软件开发人员将针对这些指标优化他们的决策。这是如何工作的:

过去，我在做一个项目，我们在开发一个网站，粉丝可以在那里购买他们最喜欢的乐队的歌曲。

有一天，一个项目经理来了，让我们创建一个 iPhone 应用程序。显然，这是一个很大的工作量。此外，这非常令人沮丧，因为我们不知道为什么我们需要这个应用程序可用。此外，我们不清楚应该实现什么特性以及应该如何实现它们。

显然，企业想通过我们的产品销售更多的商品。此外，一些虚假的研究表明，最好通过 iPhone 应用程序来完成。

我向我以前的同事描述了这个问题，他们向我介绍了[影响映射技术](https://www.impactmapping.org/)。这种方法令人震惊。我们向利益相关者询问了一些问题，了解了他们为什么需要 iPhone 应用程序。

使用影响映射技术，我们提出了大量可能的解决方案，这些方案更简单，在我们的环境中更有意义。我们选择捆绑销售商品。

然后，我对这些业务影响感兴趣，所以我将商品销售添加到我们的监控系统中。除此之外，我还制作了一张图表，这张图表在球队会议桌旁的大屏幕上非常清晰。这创造了奇迹。开发者开始从商品收益的角度来讨论所有的权衡和决策。

我为房间里的每个开发人员创建了一个新的反馈循环。当他们部署新版本的软件时，他们可以看到他们产生了什么样的业务影响。这个简短的反馈循环让我们能够将关于开发什么功能的艰难决定转化为快速实验。我们将部署一个新版本，并查看监视器。如果商品销售随着时间的推移而上升并保持不变，这就是一个成功的实验。否则，我们将恢复更改，并将该功能从范围中删除。

最终，我们达到了商品销售目标。我们甚至有点做过头了。

你可以在这里看到更多的反馈循环。

首先，关于企业为什么做出某些决策的信息。既然你知道了企业的目标，你就可以提出更好的解决方案。作为一名软件开发人员，你是一个天生的问题解决者，所以你有机会想出更好的东西是很有可能的。成功之后，企业愿意告诉我们他们的目标。

第二，将业务影响作为一个突出的图形显示在团队的操作监视器中，有助于整个团队关注最重要的事情。给开发者一个游戏，他们就会玩。

## 代码级决策

![](img/5d0f128858c26cdf26338774e073e390.png)

让我告诉你一个关于短反馈循环如何在代码层面上改善决策的故事:

有一次，我在一个团队中，我们会花一到两周的时间编写一个特性的代码。然后，我们将解决所有的合并冲突，并将我们的更改推送到主分支。一两个月后，我们会收到一些错误报告。这些错误很难修复，因为我们不再记得代码了。当然，代码糟糕透顶，调试也花了很多时间。

这是一个相当长的反馈循环。在代码的一个小的改变之后，仅仅几个月后我们就能知道它是否正确。我们在代码中做出的所有决定都必须非常小心。从另一个方法中提取一个方法可能是一个危险的操作。改变一个条件语句总是让我们觉得我们忘记了在代码库中的某个地方改变另一个条件语句。这在代码层面上应该是一个明显的变化，但最终却成了一场噩梦。

然后我们努力不犯任何错误。怎么会？

通过更慢地开发功能，并更严格地手动测试它们。通过这样做，我们使得代码决策的反馈循环更长了。这只会导致更多的合并冲突、更混乱的代码库和更可怕的决策。错误率也持续上升。

此时，我和我的朋友已经了解了自动化测试:单元测试和验收测试。在我们的日常工作之外，我们试图用几个月的时间使用这些技术开发一个成熟的应用程序。我们喜欢它。错误率大幅下降。此外，我们尝试了来自功能分支的合并请求形式的代码审查。

这些技术给了我们非常紧密的反馈回路。如果我们在代码中做了最小的改变，我们可以在 5 到 10 秒内看到这个改变影响了系统的其他组件。这都要归功于单元测试和验收测试。代码审查帮助我们就我们在代码中所做的微观设计决策相互给予反馈。例如，名字的可读性，我们是否应该把一个类一分为二，太大的函数，等等。

在我的日常工作中，我们有一个新产品刚刚开始。我提议团队试用这些自动化测试和代码审查技术两周。我们决定试一试。

由于我已经有了一些使用这些技术的成功经验，团队成功地应用了它们。我们看到的虫子少多了。他们没有一个人会阻止产品的发布。我们的代码库比我们以前见过的任何东西都更易读。只花了几天时间就开发出了一个普通的特性，并将其合并回主特性。

最终，我们自动地将每个这样的合并部署到我们的测试环境中，供业务和客户测试。这给了我们另一个关于我们所写代码正确性的简短反馈循环。此外，这给了我们在代码中做决定的信心，比如更大的重构、清理和应用[露营地规则](https://martinfowler.com/bliki/OpportunisticRefactoring.html)。我们不怕在代码中做决定。这使得这些决定变得更加简单。

慢慢地，其他团队开始注意到我们在做什么。他们开始采用我们的一些技术。一些人开始为新代码编写单元测试。其他人转向特性分支和代码审查。

你可以在这里看到多个反馈回路在工作。

首先，关于正确性的代码级决策的反馈。假设你发现了一个复制品。您首先想到的是将这种重复提取到一个函数中。现在你需要一个月的时间来确定你的重构是否没有产生错误。你会犹豫要不要做。进行重构将是一个艰难的决定。

现在，假设您可以按下一个按钮来运行您信任的测试套件。测试套件非常快，你可以在 5 到 10 秒内知道你是否引入了任何错误。做出重构决策的成本是多少？几乎没有。重构，运行测试，如果需要的话撤销。使用现代工具，整个周期可能需要 20 到 30 秒。

做任何测试都很好。自动化测试更加有用，因为它将代码中的单个决策的反馈周期缩短到了几秒钟。测试驱动开发进一步减少了决策链中每个决策的反馈循环。这消除了实现任何功能时的许多风险和不确定性。

第二，关于可读性的代码级决策的反馈。你可以决定一个特定的代码结构和命名，看看你的同事是否能理解这个代码做了什么。如果没有任何代码审查，您将会在一周到一年的时间内得到关于这些决策的反馈，或者永远得不到。

同行代码审查将关于你的系统有多好的反馈缩短到了几天甚至几个小时。结对编程使得这种反馈是即时的。

## 如何恢复意志力

![](img/f98d3e270b8ff8ed41a967d33494f29c.png)

恢复意志力最有效的方法就是充足的睡眠。下午小睡一会儿可能有助于你度过最紧张的日子。一整夜的睡眠可以恢复你全部的意志力储备。我每天晚上都用这些建议来获得更好的睡眠。

吃食物是恢复意志力的另一个有效方法。小心不要吃得太多。如果你吃得过多，那么你会有几个小时昏昏欲睡，无法做出正确的决定。

恢复一点意志力的另一个方法是经常有规律地在工作中休息一下。这些休息时间应该是你工作时间的一部分，也就是说，你不应该因为你有这些休息时间而增加工作时间。作为软件开发人员，这一点至关重要。它不仅能恢复意志力，还能让你的大脑处理刚刚接收到的所有信息。这让你有了新的见解，并提出了解决方案，否则你将无法。此外，它允许你退后一步，看到一个更大的画面。当编码时，软件开发人员关注的是画面中非常狭窄的一部分。在如此狭隘的环境中有意义的事情，从宏观角度来看可能没有意义。

有一个经常休息的好方法:番茄工作法。本质上，你将在集中工作的间歇时间进行有规律的短暂休息。多亏了这个技巧，我在一天结束的时候不会感到累，而且我一整天都保持足够的意志力来做决定，即使是在晚上。

另一个恢复你意志力的有效方法是积极参加体育锻炼。如果你在上午 11 点和下午 3 点之间有 15 分钟的休息时间，你可以做一些运动或者锻炼。那会让你的大脑充满活力，在回去工作之前刷新你的思维。例如，我利用这 15 分钟的休息时间和同事打乒乓球。

虽然这些方法有助于恢复意志力，但它们并不能治愈你的压力。缓解压力需要更多的时间。所以最好避免一开始就把它建立起来。

## 结果

做决定耗费你的意志力。当意志力耗尽时，所做的决定会导致你的精神疲劳。

处于持续的精神疲劳状态会导致压力累积。压力本身会导致精神疲劳。这是一个恶性循环，导致倦怠和抑郁。这本身就会对你的职业生涯和个人生活产生负面影响。

如果你想成为一名成功的软件开发人员，你需要反击这些问题。所以一旦你感到意志力薄弱，你就需要把重要的决定推迟到第二天。在最需要做决定的日子里，你需要睡个好觉，小睡一会儿。此外，你需要定期积极休息，吃足够的食物来恢复你的意志力。在我们这行，健康的睡眠和规律的休息是非常重要的。

最糟糕的是决策链。由于软件开发非常复杂，我们一直都在使用这些链。

处理决策链最有效的方法是缩短它们的反馈循环。我们的行业充满了只为一个目的而存在的技术——使用测试驱动开发、自动化测试、持续集成和交付、结对编程、代码审查、影响映射、敏捷回顾等等来收紧反馈循环。

学习并掌握这些工具。它们将帮助你避免压力，感觉更好，并作为一名软件开发人员更加成功。